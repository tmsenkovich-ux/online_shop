<!DOCTYPE html>
<html>
      <head>
          <title>My shop</title>
              <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
          <link rel="icon" href="/favicon.png" type="image/png">    
      </head>
      <body>
            <h1>online shop!</h1>
      <div class="action-bar">
            <a class="btn" href="{{ url_for('routes.products') }}">Edit Products</a>
        </div>
            


        <div class="products">
            {% for product in products %}
            <div class="card">
                <div class="image-wrapper">
                     <img src="{{ url_for('static', filename='images/' ~ product.id ~ '.png') }}"
                             alt="{{ product.name }}"
                             onerror="this.onerror=null;this.src='{{ url_for('static', filename='images/default.png') }}'">
                    

                        {% if product.sale %}
                        <img class="sale-icon" 
                            src="{{ url_for('static', filename='images/sale.png') }}" 
                            alt="Sale">
                            {% endif %}
                </div>

            </div>
                  
                  <h2 class="product-name">{{ product.name }}</h2> 
                  <p class="product-feature">Price: ${{ '%.2f'| format(product.price) }}</p>
                  <div class="rating" data-rating="{{ product.rating }}">
                    <span class="star">★</span>
                    <span class="star">★</span>
                    <span class="star">★</span>
                    <span class="star">★</span>
                    <span class="star">★</span>
                </div>
                   
                  <div class="card-actions">
                      <button class="btn btn-details"
                         data-name="{{ product.name|e }}"
                         data-price="{{ '%.2f'| format(product.price) }}"
                         data-stock="{{ product.stock }}"
                         data-description="{{ product.description|e }}"
                         data-category="{{ product.category|e}}"
                         data-rating="{{ product.rating }}"
                         data-sale="{{ product.sale }}"
                         data-active ="{{ product.is_active }}"
                         data-image="{{ url_for('static', filename='images/' ~ product.id ~ '.png') }}">
                        Details
                    </button>
                </div>

                        
                    
                   </div>
        
            {% endfor %}
        </div>

                <div id="product-modal" class="modal" aria-hidden="true">
            <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="modal-name">
                <button class="modal-close" aria-label="Close">&times;</button>
                <div class="modal-body">
                    <img id="modal-image" src="" alt="Product image"
             onerror="this.onerror=null;this.src='{{ url_for('static', filename='images/default.png') }}'">
                    <div class="modal-content">
                        <h2 id="modal-name"></h2>
                        <p class="product-feature" id="modal-price"> </p>
                        <p id="modal-stock"></p>
                        <p id="modal-desc"></p>
                        <p id="modal-meta" class="meta"></p>
                    </div>
                </div>
            </div>
        </div>












        <script src="{{ url_for('static', filename='modal.js') }}"></script>
      </body>
</html> 